{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst input = form.querySelector(\"input\");\ninput.setAttribute(\"required\", 'true');\nconst textarea = form.querySelector('textarea');\ntextarea.setAttribute(\"required\", 'true');\nconst LSKey = \"feedback-form-state\";\n\nfunction saveToLS(key, value){\n    const valueJson = JSON.stringify(value);\n    localStorage.setItem(key, valueJson);\n}\n\nfunction loadFromLS(key){\n    const data = localStorage.getItem(key);\n    try {\n    const result = JSON.parse(data);\n    return result;\n    }catch{\n    return data;\n    }\n }\n\n form.addEventListener('input', ()=>{\n\n    const userEmail = form.elements.email.value;\n    const userMessage = form.elements.message.value.trim();\n\n    const userData = {\n        email: userEmail,\n        message: userMessage,\n    };\n\n    saveToLS(LSKey, userData);\n},);\n\n\nform.addEventListener('submit', (evt) => {\n    evt.preventDefault();\n    const data = loadFromLS(LSKey);\n    console.log(data);\n\n    localStorage.removeItem(LSKey);\n\n    form.reset();\n},);\n\ninput.addEventListener('focus', ()=>{\n    input.setAttribute('placeholder', 'Type area');\n},);\n\ninput.addEventListener('blur', ()=>{\n    input.setAttribute('placeholder', '');\n},);\n\nfunction restoreUserData(){\n    const userData =  loadFromLS(LSKey);\n\n    input.value = userData.email ?? '';\n    textarea.value = userData.message ?? '';\n}\nrestoreUserData();\n\n"],"names":["form","input","textarea","LSKey","saveToLS","key","value","valueJson","loadFromLS","data","userEmail","userMessage","evt","restoreUserData","userData"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQD,EAAK,cAAc,OAAO,EACxCC,EAAM,aAAa,WAAY,MAAM,EACrC,MAAMC,EAAWF,EAAK,cAAc,UAAU,EAC9CE,EAAS,aAAa,WAAY,MAAM,EACxC,MAAMC,EAAQ,sBAEd,SAASC,EAASC,EAAKC,EAAM,CACzB,MAAMC,EAAY,KAAK,UAAUD,CAAK,EACtC,aAAa,QAAQD,EAAKE,CAAS,CACvC,CAEA,SAASC,EAAWH,EAAI,CACpB,MAAMI,EAAO,aAAa,QAAQJ,CAAG,EACrC,GAAI,CAEJ,OADe,KAAK,MAAMI,CAAI,CAElC,MAAK,CACD,OAAOA,CACN,CACH,CAEDT,EAAK,iBAAiB,QAAS,IAAI,CAEhC,MAAMU,EAAYV,EAAK,SAAS,MAAM,MAChCW,EAAcX,EAAK,SAAS,QAAQ,MAAM,OAOhDI,EAASD,EALQ,CACb,MAAOO,EACP,QAASC,CACjB,CAE4B,CAC5B,GAGAX,EAAK,iBAAiB,SAAWY,GAAQ,CACrCA,EAAI,eAAc,EAClB,MAAMH,EAAOD,EAAWL,CAAK,EAC7B,QAAQ,IAAIM,CAAI,EAEhB,aAAa,WAAWN,CAAK,EAE7BH,EAAK,MAAK,CACd,GAEAC,EAAM,iBAAiB,QAAS,IAAI,CAChCA,EAAM,aAAa,cAAe,WAAW,CACjD,GAEAA,EAAM,iBAAiB,OAAQ,IAAI,CAC/BA,EAAM,aAAa,cAAe,EAAE,CACxC,GAEA,SAASY,GAAiB,CACtB,MAAMC,EAAYN,EAAWL,CAAK,EAElCF,EAAM,MAAQa,EAAS,OAAS,GAChCZ,EAAS,MAAQY,EAAS,SAAW,EACzC,CACAD,EAAiB"}